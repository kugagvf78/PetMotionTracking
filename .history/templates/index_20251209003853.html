<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pet Tracking Dashboard</title>

    <!-- GLOBAL CSS -->
    <link rel="stylesheet" href="/static/css/style.css" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body class="light">
    <!-- NAVBAR -->
    <nav class="navbar">
      <h2>ğŸ¾ Pet Tracking Dashboard</h2>

      <div class="nav-right">
        <button id="themeToggle" class="nav-btn">
          <span id="themeIcon">ğŸŒ™</span>
          <span id="themeText">Dark Mode</span>
        </button>
      </div>
    </nav>

    <div class="container">
      <!-- STATUS BAR -->
      <div class="status-bar">
        <div class="status-item">
          <span class="status-indicator" id="sysIndicator"></span>
          <span class="status-text"><strong>Há»‡ thá»‘ng:</strong> Äang cháº¡y</span>
        </div>

        <div class="status-item">
          <span class="status-text"
            >ğŸ¥ <strong>Camera:</strong>
            <span id="cameraStatus">Äang táº£i...</span>
          </span>
        </div>

        <div class="status-item">
          <span class="status-text"
            >ğŸ“¡ <strong>PIR:</strong>
            <span id="pirStatus" style="color: #aaa">---</span>
          </span>
        </div>

        <div class="status-item">
          <span class="status-text"
            >ğŸ¯ <strong>RFID:</strong>
            <span id="rfidStatus" style="color: #aaa">---</span>
          </span>
        </div>

        <div class="status-item">
          <span class="status-text"
            >ğŸ“Š <strong>Tá»•ng event:</strong>
            <span id="totalEvents">0</span>
          </span>
        </div>
      </div>

      <!-- STATS -->
      <div class="stats-grid">
        <div class="stat-mini">
          <span class="icon">ğŸ“ˆ</span>
          <div class="label">Hoáº¡t Ä‘á»™ng hÃ´m nay</div>
          <div class="value" id="todayCount">0</div>
        </div>

        <div class="stat-mini">
          <span class="icon">â°</span>
          <div class="label">Gáº§n nháº¥t</div>
          <div class="value" id="lastTime">--:--</div>
        </div>

        <div class="stat-mini">
          <span class="icon">ğŸ•</span>
          <div class="label">Pet Detected</div>
          <div class="value" id="petStatus">KhÃ´ng tháº¥y</div>
        </div>

        <!-- NEW AI BADGE -->
        <div
          class="stat-mini"
          id="petBadge"
          style="display: none; background: #ffefef; border: 1px solid #ff6b6b"
        >
          <span class="icon">âš ï¸</span>
          <div class="label">Cáº£nh bÃ¡o</div>
          <div class="value" style="color: #d90429">Pet Ä‘ang di chuyá»ƒn!</div>
        </div>

        <div class="stat-mini">
          <span class="icon">ğŸ”¥</span>
          <div class="label">Äiá»ƒm hÃ nh vi</div>
          <div class="value" id="behaviorScore">0</div>
        </div>
      </div>

      <!-- MAIN GRID -->
      <div class="grid-2col">
        <div class="card camera-card">
          <h3>ğŸ¥ Camera trá»±c tiáº¿p</h3>
          <div class="camera-overlay">â— REC</div>
          <img
            id="liveFeed"
            src="/video_feed"
            style="width: 100%; border-radius: 12px"
          />
        </div>

        <div class="card">
          <h3>ğŸ“Š Biá»ƒu Ä‘á»“ hoáº¡t Ä‘á»™ng hÃ´m nay</h3>
          <canvas id="motionChart"></canvas>
        </div>
      </div>

      <!-- ALERT PANEL -->
      <div class="card">
        <h3>ğŸš¨ Cáº£nh bÃ¡o & PhÃ¡t hiá»‡n AI</h3>
        <div id="alertPanel" class="alert-panel">
          <p class="empty-alert">â³ Äang chá» dá»¯ liá»‡u AI...</p>
        </div>
      </div>

      <!-- LOGS -->
      <div class="card log-card">
        <h3>ğŸ“ Nháº­t kÃ½ chuyá»ƒn Ä‘á»™ng</h3>
        <div id="logList"></div>
      </div>
    </div>

    <script src="/static/js/dashboard.js"></script>
  </body>
</html>
